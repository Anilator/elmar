window.G=readStorage();if(!G){G={works:{},activePage:"drawing",activeWork:"0",};}function readStorage(){var a={};try{if(!window.localStorage.G){return false;
}a=JSON.parse(window.localStorage.G);if(!a.works){return false;}}catch(b){console.warn(b);return false;}return a;}(function start(){b();g();f();function b(){G.isMobile=window.innerWidth<768?true:false;
$(window).resize(function(){G.isMobile=window.innerWidth<768?true:false;});}function g(){$(".nav").on("click",".nav__item",h);function h(j){var i=$(j.currentTarget).data("page");
G.activePage=i;c();d();}}function f(){if(!G.works.fetched){$.getJSON("https://www.googleapis.com/blogger/v3/blogs/327656489361647821/posts",{key:"AIzaSyA-T9NRjIXJMQHWuf4TEZfAoBG9sfvarQg",},h);
}else{d();}function h(l){G.works={fetched:true};var n=document.body.clientWidth;var i=document.body.clientHeight;var k=n;var m=G.isMobile?~~(n/3):~~(n/4);
var j=Math.max(n,i)*2;$.each(l.items,function(q,p){var r=p.content.match(/src\s*=\s*["']([^"']+)["']/)[1];var o={src:e(r,m),srcZoomed:e(r,j),};var s=p.labels;
if(s){label=s[0];if(label[0]=="#"){o.src=e(r,k);o.backgroundColor=label;o.heroImage=true;label=s[1];}G.works[label]=G.works[label]?G.works[label]:[];G.works[label].unshift(o);
}});d();}}function e(j,i){var h=j.split("/");h[7]="s"+i;return h.join("/");}function d(){var k=G.activePage;var j="";var h=$(".gallery");var l="nav__item-active";
var i=$('.nav__item[data-page="'+k+'"]').addClass(l);i.siblings().removeClass(l);$.each(G.works[k],function(n,m){if(m.heroImage){G.backgroundColor=m.backgroundColor;
j='<img class="gallery__hero" src="'+m.src+'">'+j;}else{j+='<div class="gallery__thumb" data-i="'+n+'"><div class="gallery__thumb_cont"><img src="'+m.src+'"></div></div>';
}});h.html(j).css("background",G.backgroundColor);h.on("click",".gallery__thumb",a);}function a(i){var j=$(i.currentTarget).data("i");G.activeWork=j;c();
var h=location.href.split("/");h.splice(-1,1,"gallery.html");location.href=h.join("/");}function c(){try{window.localStorage.G=JSON.stringify(G);}catch(h){console.warn(h);
}}})();