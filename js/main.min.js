(function start(){window.G=b();if(!G){G={works:{},activePage:"drawing",activeWork:"0",};}c();h();g();function c(){G.isMobile=window.innerWidth<768?true:false;
$(window).resize(function(){G.isMobile=window.innerWidth<768?true:false;});}function h(){$(".nav").on("click",".nav__item",i);function i(k){var j=$(k.currentTarget).data("page");
G.activePage=j;d();e();}}function g(){if(
/*!G.works.fetched*/
true){$.getJSON("https://www.googleapis.com/blogger/v3/blogs/327656489361647821/posts",{key:"AIzaSyA-T9NRjIXJMQHWuf4TEZfAoBG9sfvarQg",maxResults:"500",},i);
}else{e();}function i(j){G.works={fetched:true};$.each(j.items,function(n,m){var o=m.labels;if(o){var l=o[0];var k={};if(l[0]=="#"){k.backgroundColor=l;
k.heroImage=true;l=o[1];}if(l=="about"){G.about=m.content;return;}k.src=m.content.match(/src\s*=\s*["']([^"']+)["']/)[1];k.text=m.content.replace(/<a.*?<\/a>/,"");
k.title=m.title;G.works[l]=G.works[l]?G.works[l]:[];G.works[l].unshift(k);}});e();}}function f(k,j){var i=k.split("/");i[7]="w"+j;return i.join("/");}function e(){var m=G.activePage;
var l="";var i=$(".gallery");var p="nav__item-active";var k=$('.nav__item[data-page="'+m+'"]').addClass(p);k.siblings().removeClass(p);var o=document.body.clientWidth;
var j=o*2;var n=G.isMobile?~~(o/3*2):~~(o/4);$.each(G.works[m],function(r,q){var s;if(q.heroImage){G.backgroundColor=q.backgroundColor;s=f(q.src,j);l='<div class="gallery__hero"><img src="'+s+'" class="zoom" data-i="'+r+'"></div>'+l;
}else{s=f(q.src,n);l+='<div class="gallery__thumb zoom" data-i="'+r+'"><div class="gallery__thumb_cont"><img src="'+s+'"></div></div>';}});if(m=="about"){l='<div class="about">'+G.about+"</div>";
G.backgroundColor="#eee";}i.html(l).css("background",G.backgroundColor);i.on("click",".zoom",a);}function a(j){var k=$(j.currentTarget).data("i");G.activeWork=k;
d();var i=location.href.split("/");i.splice(-1,1,"gallery.html");location.href=i.join("/");}function b(){var i={};try{if(!window.localStorage.G){return false;
}i=JSON.parse(window.localStorage.G);if(!i.works){return false;}}catch(j){console.warn(j);return false;}return i;}function d(){try{window.localStorage.G=JSON.stringify(G);
}catch(i){console.warn(i);}}})();